function OverImage(p: TPoint): LongBool;
function FNormalPos(Formula: THAformula): TPoint;
function GetCalcRect: TRect;
function GetPageContr1index(Loption: Byte): Integer;
function GetSpecialFolderPath(folder : Integer) : String;
function IsCalculating: Boolean;
function MakeDynFogCol: TRGB;
function OverForm(p: TPoint): LongBool;
function ScreenPosInListBox(const LB: TListBoxEx; const sp: TPoint): Boolean;
function ScreenPosInSButton(const SB: TSpeedButton; const sp: TPoint): Boolean;
function SizeOK(Verbose: LongBool): LongBool;
function TBChanged: LongBool;
function VisLightExBit(const Light: TLight8): Integer;
procedure AddFormulaName(FName: String; DEfunc: Integer);
procedure AdjustTC1height;
procedure AllPresetsUp;
procedure btn_postprocessClick(Sender: TObject);
procedure btn_RandomClick(Sender: TObject);
procedure btn_ResetRotationClick(Sender: TObject);
procedure btn_save_M3PClick(Sender: TObject);
procedure btn_SetRotationClick(Sender: TObject);
procedure btnBlockyClick(Sender: TObject);
procedure btnCalc3DClick(Sender: TObject);
procedure btnCalc3DMouseDown(Sender: TObject; Button: TMouseButton; Shift: TShiftState; X, Y: Integer);
procedure btnHeaderClick(Sender: TObject);
procedure Button_F_3Click(Sender: TObject);
procedure Button_F_4Click(Sender: TObject);
procedure Button_M_12Click(Sender: TObject);
procedure Button_M_13Click(Sender: TObject);
procedure Button_M_14Click(Sender: TObject);
procedure Button_M_16Click(Sender: TObject);
procedure Button_M_19Click(Sender: TObject);
procedure Button_M_1Click(Sender: TObject);
procedure Button1Click(Sender: TObject);
procedure ButtonAuthorClick(Sender: TObject);
procedure ButtonGetPosClick(Sender: TObject);
procedure ButtonInsertAuthorClick(Sender: TObject);
procedure ButtonVolLightClick(Sender: TObject);
procedure CalcAmbShadow;
procedure CalcHardShadow;
procedure CalcMand(bMakeHeader: LongBool);
procedure CalcRstop;
procedure CalcStatistic;
procedure cb_frmChange(Sender: TObject);
procedure cb_frmSelect(Sender: TObject);
procedure cb_julia_modeClick(Sender: TObject);
procedure cb_keep_aspectClick(Sender: TObject);
procedure cb_light_presetDropDown(Sender: TObject);
procedure cb_light_presetSelect(Sender: TObject);
procedure Check4DandInfo;
procedure CheckBox_F_1Click(Sender: TObject);
procedure CheckBox_L_15Click(Sender: TObject);
procedure CheckBox_L_16Click(Sender: TObject);
procedure CheckBox_L_1Click(Sender: TObject);
procedure CheckBox_L_21Click(Sender: TObject);
procedure CheckBox_L_22Click(Sender: TObject);
procedure CheckBox_L_2Click(Sender: TObject);
procedure CheckBox_L_4Click(Sender: TObject);
procedure CheckBox_L_6Click(Sender: TObject);
procedure CheckBox_L_7Click(Sender: TObject);
procedure CheckBox_L_8Click(Sender: TObject);
procedure CheckBox_M_14Click(Sender: TObject);
procedure ClearFormula(nr: Integer);
procedure ClearScreen;
procedure ComboBox_L_1Change(Sender: TObject);
procedure ComboBox_L_4Change(Sender: TObject);
procedure Copythevaluesto1Click(Sender: TObject);
procedure Copythisformulatoformulanr11Click(Sender: TObject);
procedure CopythislighttoLight11Click(Sender: TObject);
procedure DisableBchange;
procedure DisableButtons;
procedure ed_widthChange(Sender: TObject);
procedure Edit_L_1Change(Sender: TObject);
procedure Edit_L_2MouseDown(Sender: TObject; Button: TMouseButton; Shift: TShiftState; X, Y: Integer);
procedure Edit_M_33Change(Sender: TObject);
procedure Edit_M_34Change(Sender: TObject);
procedure EditItCountChange(Sender: TObject);
procedure EnableBchange;
procedure EnableButtons;
procedure EventDummiClick(Sender: TObject);
procedure EventDummiDblClick(Sender: TObject);
procedure EventEditChange(Sender: TObject);
procedure ExchangeFormulaLeftBtnClick(Sender: TObject);
procedure ExchangeFormulaRightBtnClick(Sender: TObject);
procedure FillInPreset(ip: Integer);
procedure FirstShowUpdate;
procedure FogResetButtonClick(Sender: TObject);
procedure FormClose(Sender: TObject; var Action: TCloseAction);
procedure FormCloseQuery(Sender: TObject; var CanClose: Boolean);
procedure FormCreate(Sender: TObject);
procedure FormDestroy(Sender: TObject);
procedure FormDragOver(Sender, Source: TObject; X, Y: Integer; State: TDragState; var Accept: Boolean);
procedure FormHide(Sender: TObject);
procedure FormKeyDown(Sender: TObject; var Key: Word; Shift: TShiftState);
procedure FormKeyPress(Sender: TObject; var Key: Char);
procedure FormMouseWheel(Sender: TObject; Shift: TShiftState;  WheelDelta: Integer; MousePos: TPoint; var Handled: Boolean);
procedure FormShow(Sender: TObject);
procedure FrameEditExit(Sender: TObject);
procedure FrameUpDownClick(Sender: TObject; Button: TUDBtnType);
procedure getI1BMPSLs;
procedure GetPresetL(nr: Integer);
procedure Hidethisformula1Click(Sender: TObject);
procedure Image_M_1MouseDown(Sender: TObject; Button: TMouseButton; Shift: TShiftState; X, Y: Integer);
procedure Image_M_1MouseMove(Sender: TObject; Shift: TShiftState; X, Y: Integer);
procedure Image_M_1MouseUp(Sender: TObject; Button: TMouseButton; Shift: TShiftState; X, Y: Integer);
procedure Image2_M_2MouseDown(Sender: TObject; Button: TMouseButton; Shift: TShiftState; X, Y: Integer);
procedure Image2_M_2MouseMove(Sender: TObject; Shift: TShiftState; X, Y: Integer);
procedure IniHAddon(HA: PTHeaderCustomAddon);
procedure IniMHeader;
procedure Insertvolumetriclightcolor1Click(Sender: TObject);
procedure JITFormulaBtnClick(Sender: TObject);
procedure LoadFormulaNames;
procedure LoadStartupParas;
procedure MakeDepthColList;
procedure MakeGlyph(SB: TSpeedButton; PNr: Integer);
procedure MakeHeader;
procedure MButtonsUp;
procedure MHeaderToText;
procedure ModColOnImage(X, Y: Integer);
procedure N01Click(Sender: TObject);
procedure N111Click(Sender: TObject);
procedure OutMessage(s: String);
procedure PageControl_L_1Change(Sender: TObject);
procedure PageControl_L_1Changing(Sender: TObject; var AllowChange: Boolean);
procedure PageControl_M_1Change(Sender: TObject);
procedure PageCtrlsChange(Sender: TObject);    //
procedure PageMainChange(Sender: TObject);
procedure ParasChanged;
procedure ProofPosLight;
procedure PropagateCurrFrameNumber;
procedure PutLightFInHeader(var Header: TMandHeader10);                     //TMandHeader10
procedure RadioGroup_F_1Click(Sender: TObject);
procedure RefreshNavigator(const Enabled: Boolean);
procedure RepaintMAIN(bStartTimer: LongBool);
procedure RepaintMAINnoThread;
procedure Rotate4Dvec(var vec: TVec4D);
procedure SaveDialog_M_1TypeChange(Sender: TObject);
procedure SaveDialog_M_6TypeChange(Sender: TObject);
procedure SaveFormulaBytes;
procedure SaveImageO(OutputType: Integer; FileNam: String);
procedure SaveM3I(FileName: String; bSaveImgBuf: LongBool);
procedure sb_animateClick(Sender: TObject);
procedure sb_aspect_43Click(Sender: TObject);
procedure sb_aspect_userMouseDown(Sender: TObject; Button: TMouseButton; Shift: TShiftState; X, Y: Integer);
procedure sb_aspectClick(Sender: TObject);
procedure sb_BatchClick(Sender: TObject);
procedure sb_BugReportClick(Sender: TObject);
procedure sb_ClipBrd_InClick(Sender: TObject);
procedure sb_ClipBrd_OutClick(Sender: TObject);
procedure sb_color_fineClick(Sender: TObject);
procedure sb_color_histogramClick(Sender: TObject);
procedure sb_frm_loadClick(Sender: TObject);
procedure sb_IniDirsClick(Sender: TObject);
procedure sb_light_historyMouseUp(Sender: TObject; Button: TMouseButton; Shift: TShiftState; X, Y: Integer);
procedure sb_light_loadClick(Sender: TObject);
procedure sb_light_panel_upClick(Sender: TObject);
procedure sb_light_preset_1Click(Sender: TObject);
procedure sb_light_presetClick(Sender: TObject);
procedure sb_light_saveClick(Sender: TObject);
procedure sb_MapSequencesClick(Sender: TObject);
procedure sb_montecarloClick(Sender: TObject);
procedure sb_MutaGenClick(Sender: TObject);
procedure sb_NaviClick(Sender: TObject);
procedure sb_open_M3IClick(Sender: TObject);
procedure sb_open_M3PClick(Sender: TObject);
procedure sb_save_JPEG_PClick(Sender: TObject);
procedure sb_save_JPEGClick(Sender: TObject);
procedure sb_save_M3IClick(Sender: TObject);
procedure sb_save_M3PClick(Sender: TObject);
procedure sb_save_PNGClick(Sender: TObject);
procedure sb_save_ZBUFClick(Sender: TObject);
procedure sb_tilingClick(Sender: TObject);
procedure sb_undo_redoMouseUp(Sender: TObject; Button: TMouseButton; Shift: TShiftState; X, Y: Integer);
procedure sb_VisualThemesClick(Sender: TObject);
procedure sb_voxelClick(Sender: TObject);
procedure sbm2tClick(Sender: TObject);
procedure ScaleDEstop(s: Single);
procedure SelectFormula(FName: String);
procedure SendMove;
procedure SetEdit_M_16Text;
procedure SetEditsFromHeader;
procedure SetEulerEditsFromHeader;
procedure SetFormulaCBs(s: String);
procedure SetImageCursor;
procedure SetLAplusPosToZero;
procedure SetLightFromHeader(var Header: TMandHeader10);                    //TMandHeader10
procedure SetM3Dini;
procedure SetPosLightTo0(tab: Integer);
procedure SetPreset(ip: Integer);
procedure SetPresetL(nr: Integer; KeepLights: LongBool);
procedure SetSButtonColor(ButtonNr: Integer; Color: TRGB);
procedure SetSDButtonColors;
procedure SetShape_M_2Size(NewSize: Integer);
procedure SetStartPreset;
procedure SetTabNames;
procedure Shape_M_1MouseDown(Sender: TObject; Button: TMouseButton; Shift: TShiftState; X, Y: Integer);
procedure Shape_M_2MouseDown(Sender: TObject; Button: TMouseButton; Shift: TShiftState; X, Y: Integer);
procedure Shape_M_2MouseMove(Sender: TObject; Shift: TShiftState; X, Y: Integer);
procedure ShapeBox_M_1Click(Sender: TObject);
procedure ShapeDisc_M_1Click(Sender: TObject);
procedure Shiftallformulasonetotheright1Click(Sender: TObject);
procedure Shifttotheleft1Click(Sender: TObject);
procedure sp_resetClick(Sender: TObject);
procedure SpeedButton_F_2Click(Sender: TObject);
procedure SpeedButton_L_1Click(Sender: TObject);
procedure SpeedButton_L_2Click(Sender: TObject);
procedure SpeedButton_L_3MouseUp(Sender: TObject; Button: TMouseButton; Shift: TShiftState; X, Y: Integer);
procedure SpeedButton_L_4MouseDown(Sender: TObject; Button: TMouseButton; Shift: TShiftState; X, Y: Integer);
procedure SpeedButton_M_10Click(Sender: TObject);
procedure SpeedButton_M_18MouseUp(Sender: TObject; Button: TMouseButton; Shift: TShiftState; X, Y: Integer);
procedure SpeedButton_M_1Click(Sender: TObject);
procedure SpeedButton_M_30Click(Sender: TObject);
procedure SpeedButton_M_36Click(Sender: TObject);
procedure SpeedButton_M_3Click(Sender: TObject);
procedure SpinButton1Down;
procedure SpinButton1Up;
procedure SpinButton2DownClick(Sender: TObject);
procedure SpinButton2UpClick(Sender: TObject);
procedure SpinEdit_M_2Change(Sender: TObject);
procedure SpinEdit_M_2ChangingEx(Sender: TObject; var AllowChange: Boolean; NewValue: Integer; Direction: TUpDownDirection);
procedure StartrenderingandsaveafterwardstheM3Ifile1Click(Sender: TObject);
procedure Stickthiswindowtotherightside1Click(Sender: TObject);
procedure TabControl_F_1Change(Sender: TObject);
procedure TabControl_F_1MouseDown(Sender: TObject; Button: TMouseButton; Shift: TShiftState; X, Y: Integer);
procedure TabControl_F_2Change(Sender: TObject);
procedure TabControl_F_2Changing(Sender: TObject; var AllowChange: Boolean);
procedure TabControl_L_1Change(Sender: TObject);
procedure TabControl_L_1Changing(Sender: TObject; var AllowChange: Boolean);
procedure TabControl_L_1MouseDown(Sender: TObject; Button: TMouseButton; Shift: TShiftState; X, Y: Integer);
procedure tbx_light_angXChange(Sender: TObject);
procedure tbx_light_angYChange(Sender: TObject);
procedure tbx_light_posXChange(Sender: TObject);
procedure tbx_light_posXMouseUp(Sender: TObject; Button: TMouseButton; Shift: TShiftState; X, Y: Integer);
procedure tbx_light_rotXChange(Sender: TObject);
procedure tbx_lightChange(Sender: TObject);
procedure TextParsLoadSuccess;
procedure Timer_M_1Timer(Sender: TObject);
procedure Timer_M_2Timer(Sender: TObject);
procedure Timer_M_3Timer(Sender: TObject);
procedure Timer_M_4Timer(Sender: TObject);
procedure Timer_M_5Timer(Sender: TObject);
procedure Timer_M_6Timer(Sender: TObject);
procedure Timer_M_8Timer(Sender: TObject);
procedure TrackBar_L_11KeyPress(Sender: TObject; var Key: Char);
procedure TrackBar_L_21KeyPress(Sender: TObject; var Key: Char);
procedure TrackBar_L_22Change(Sender: TObject);
procedure TrackBar_L_33Change(Sender: TObject);
procedure TriggerRepaint;
procedure TriggerRepaintDraw(R: TRect);
procedure ud_scaleClick(Sender: TObject; Button: TUDBtnType);
procedure ud_SharpClick(Sender: TObject; Button: TUDBtnType);
procedure ud_viewClick(Sender: TObject; Button: TUDBtnType);
procedure UpdateAndScaleImageFull(NewScale: Integer);
procedure UpdateAspectCaption;
procedure UpdateFromHeader(Header: TPMandHeader10);                         //TMandHeader10   pointer
procedure UpdateQuickLoadCB;
procedure UpdateScaledImageFull;
procedure UpdateTabHeader(nr: Integer);
procedure UpDown_F_1Click(Sender: TObject; Button: TUDBtnType);
procedure UpDown_L_4Click(Sender: TObject; Button: TUDBtnType);
procedure UpDown_M_5Click(Sender: TObject; Button: TUDBtnType);
procedure UpDownDiffMapChange(Sender: TObject);
procedure UpDownLightChange(Sender: TObject);
procedure UpDownXposClick(Sender: TObject; Button: TUDBtnType);
procedure WaitForPaintStop(maxSeconds: Integer);
procedure WMDROPFILES(var Msg: TMessage); message WM_DROPFILES; //moved
procedure WmThreadReady(var Msg: TMessage); message WM_ThreadReady;
procedure WndProc(var Message: TMessage); override;
